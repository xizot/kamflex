{"version":3,"sources":["components/Requesting/Requesting.styles.jsx","components/Requesting/Requesting.jsx","utils/converter.js","../node_modules/@material-ui/icons/esm/PlayArrow.js","../node_modules/@material-ui/icons/esm/Add.js","../node_modules/@material-ui/icons/esm/AccessTime.js","../node_modules/@material-ui/icons/esm/ThumbUpAlt.js","../node_modules/@material-ui/icons/esm/ThumbDownAlt.js","pages/MovieDetail/MovieDetail.styles.jsx","pages/MovieDetail/MovieDetail.jsx"],"names":["makeStyles","theme","root","position","top","left","width","height","zIndex","display","justifyContent","alignItems","flexDirection","background","alpha","palette","secondary","main","box","border","borderTopColor","primary","borderBottomColor","marginBottom","spacing","borderRadius","animation","transform","borderWidth","Requesting","text","classes","useStyles","className","Typography","color","variant","timeToClient","date","tmpDate","Date","day","getDate","slice","month","getMonth","year","getFullYear","hours","getHours","mins","getMinutes","createSvgIcon","React","d","minHeight","paddingTop","paddingBottom","poster","shape","marginRight","maxHeight","objectFit","breakpoints","down","margin","detail","title","fontWeight","lineHeight","fontSize","moreInfo","review","score","padding","iconTime","time","section","content","description","borderBottom","descriptionContent","playerWrapper","overflow","subtitle","commentBox","inputComment","btnPostComment","marginLeft","minWidth","btnPlay","genre","actions","marginTop","rating","transition","opacity","rated","error","player","MovieDetail","history","useHistory","params","useParams","dispatch","useDispatch","id","useState","setError","setDetail","isLoading","useSelector","state","isAuthenticated","auth","kind","setKind","added","setAdded","getRatingHandler","useCallback","a","getRating","media","unwrap","response","console","log","checkExistingHandler","checkExisting","_id","insertMyListHandler","insertMyList","ratingHandler","rate","currentLikes","likes","currentDislikes","dislikes","prev","getDetailHandler","detailGetById","useEffect","trailers","videos","length","destroy","playerDOM","document","getElementById","Plyr","videoSettings","type","sources","src","key","provider","site","toLowerCase","source","useLayoutEffect","window","scrollTo","ratingiant","align","Container","Box","flexWrap","posterUrl","alt","release","AccessTime","releaseDate","views","genres","map","item","index","to","name","producers","join","Button","startIcon","Add","onClick","ThumbUpAlt","ThumbDownAlt","PlayArrow","push","from","overview","playsInline","controls","suggestion"],"mappings":"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","file":"static/js/11.1d4e55f8.chunk.js","sourcesContent":["import { alpha } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    width: '100%',\r\n    height: '100vh',\r\n    zIndex: '99999',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    flexDirection: 'column',\r\n    background: alpha(theme.palette.secondary.main, 0.8),\r\n  },\r\n  box: {\r\n    width: '3.5em',\r\n    height: '4em',\r\n    border: '3px solid transparent',\r\n    borderTopColor: theme.palette.primary.main,\r\n    borderBottomColor: theme.palette.primary.main,\r\n    marginBottom: theme.spacing(2),\r\n    borderRadius: '50%',\r\n    animation: '$spinStretch 2s ease infinite',\r\n  },\r\n  '@keyframes spinStretch': {\r\n    '50%': {\r\n      transform: 'rotate(360deg) scale(0.4, 0.33)',\r\n      borderWidth: 8,\r\n    },\r\n    '100%': {\r\n      transform: 'rotate(720deg) scale(1, 1)',\r\n      borderWidth: 3,\r\n    },\r\n  },\r\n}));\r\n","import { Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport useStyles from './Requesting.styles';\r\nfunction Requesting({ text }) {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.box}></div>\r\n      <Typography color=\"primary\" variant=\"body2\">\r\n        {text || 'Please waiting...'}\r\n      </Typography>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Requesting;\r\n","export const timeToClient = (date) => {\r\n  const tmpDate = new Date(date);\r\n  const day = ('0' + tmpDate.getDate()).slice(-2);\r\n  const month = ('0' + (tmpDate.getMonth() + 1)).slice(-2);\r\n  const year = tmpDate.getFullYear();\r\n\r\n  const hours = ('0' + tmpDate.getHours()).slice(-2);\r\n  const mins = ('0' + tmpDate.getMinutes()).slice(-2);\r\n\r\n  return `${day}/${month}/${year} ${hours}:${mins}`;\r\n};\r\n","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 5v14l11-7z\"\n}), 'PlayArrow');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z\"\n})), 'AccessTime');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2 20h2c.55 0 1-.45 1-1v-9c0-.55-.45-1-1-1H2v11zm19.83-7.12c.11-.25.17-.52.17-.8V11c0-1.1-.9-2-2-2h-5.5l.92-4.65c.05-.22.02-.46-.08-.66-.23-.45-.52-.86-.88-1.22L14 2 7.59 8.41C7.21 8.79 7 9.3 7 9.83v7.84C7 18.95 8.05 20 9.34 20h8.11c.7 0 1.36-.37 1.72-.97l2.66-6.15z\"\n}), 'ThumbUpAlt');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M22 4h-2c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h2V4zM2.17 11.12c-.11.25-.17.52-.17.8V13c0 1.1.9 2 2 2h5.5l-.92 4.65c-.05.22-.02.46.08.66.23.45.52.86.88 1.22L10 22l6.41-6.41c.38-.38.59-.89.59-1.42V6.34C17 5.05 15.95 4 14.66 4h-8.1c-.71 0-1.36.37-1.72.97l-2.67 6.15z\"\n}), 'ThumbDownAlt');","import { makeStyles } from '@material-ui/core';\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    minHeight: '100vh',\r\n    paddingTop: '20vh',\r\n    paddingBottom: '20vh',\r\n    background: theme.palette.secondary.main,\r\n  },\r\n\r\n  poster: {\r\n    borderRadius: theme.shape.borderRadius,\r\n    width: 350,\r\n    height: 'auto',\r\n    marginRight: 50,\r\n    maxHeight: '100%',\r\n    objectFit: 'cover',\r\n    [theme.breakpoints.down('sm')]: {\r\n      width: 250,\r\n      marginRight: 25,\r\n    },\r\n    [theme.breakpoints.down('xs')]: {\r\n      margin: theme.spacing(0, 'auto', 2),\r\n    },\r\n  },\r\n  detail: {\r\n    color: '#fff',\r\n    width: 'calc(100% - 400px)',\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: 'calc(100% - 300px)',\r\n    },\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '100%',\r\n    },\r\n  },\r\n\r\n  title: {\r\n    marginBottom: theme.spacing(1),\r\n    fontWeight: 'bold',\r\n    lineHeight: 1.3,\r\n    [theme.breakpoints.down('xs')]: {\r\n      fontSize: 30,\r\n      lineHeight: 1.2,\r\n    },\r\n  },\r\n  moreInfo: {\r\n    fontWeight: 500,\r\n    lineHeight: 1.8,\r\n  },\r\n  review: {\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  score: {\r\n    border: `2px solid ${theme.palette.primary.main}`,\r\n    color: theme.palette.primary.main,\r\n    borderRadius: '50%',\r\n    padding: 10,\r\n    fontWeight: 'bold',\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.down('xs')]: {\r\n      padding: 7,\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n  iconTime: {\r\n    marginRight: theme.spacing(0.5),\r\n  },\r\n  time: {\r\n    fontWeight: 'bold',\r\n  },\r\n  section: {\r\n    padding: theme.spacing(5, 0),\r\n    [theme.breakpoints.down('xs')]: {\r\n      padding: theme.spacing(3, 0),\r\n    },\r\n  },\r\n  content: {\r\n    padding: theme.spacing(0, 20),\r\n    [theme.breakpoints.down('sm')]: {\r\n      padding: theme.spacing(0, 7),\r\n    },\r\n    [theme.breakpoints.down('xs')]: {\r\n      padding: theme.spacing(0),\r\n    },\r\n  },\r\n  description: {\r\n    borderBottom: '1px solid #bebebe',\r\n  },\r\n  descriptionContent: {\r\n    color: '#9CABB6',\r\n    lineHeight: 1.8,\r\n  },\r\n  playerWrapper: {\r\n    position: 'relative',\r\n    paddingTop: '56.25%',\r\n    borderRadius: theme.shape.borderRadius,\r\n    overflow: 'hidden',\r\n  },\r\n  subtitle: {\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  commentBox: {\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  inputComment: {\r\n    marginBottom: theme.spacing(1),\r\n    background: '#fff',\r\n    borderRadius: theme.shape.borderRadius,\r\n    overflow: 'hidden',\r\n  },\r\n  btnPostComment: {\r\n    marginBottom: theme.spacing(2),\r\n    display: 'block',\r\n    marginLeft: 'auto',\r\n    minWidth: 100,\r\n  },\r\n  btnPlay: {\r\n    minWidth: 150,\r\n  },\r\n  genre: {\r\n    color: theme.palette.primary.main,\r\n  },\r\n  actions: {\r\n    marginTop: theme.spacing(2),\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  rating: {\r\n    color: '#fff',\r\n    transition: 'all .5s',\r\n    '&:hover': {\r\n      opacity: 0.8,\r\n      color: theme.palette.primary.main,\r\n    },\r\n  },\r\n  rated: {\r\n    color: theme.palette.primary.main,\r\n  },\r\n  error: {\r\n    marginTop: 20,\r\n  },\r\n}));\r\n","import { Box, Button, Container, Typography } from '@material-ui/core';\r\nimport { AccessTime, Add, PlayArrow, ThumbDownAlt, ThumbUpAlt } from '@material-ui/icons';\r\nimport React, { useCallback, useEffect, useLayoutEffect, useState } from 'react';\r\nimport { useParams, useHistory, Link } from 'react-router-dom';\r\nimport useStyles from './MovieDetail.styles';\r\nimport Plyr from 'plyr';\r\nimport Requesting from '../../components/Requesting/Requesting';\r\nimport { useDispatch } from 'react-redux';\r\nimport { detailGetById } from '../../slices/detail.slice';\r\nimport { timeToClient } from '../../utils/converter';\r\nimport { useSelector } from 'react-redux';\r\nimport { getRating, rating } from '../../slices/rating.slice';\r\nimport { checkExisting, insertMyList } from '../../slices/myList.slice';\r\n\r\nlet player = null;\r\nfunction MovieDetail() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n  const id = params.id;\r\n  const [error, setError] = useState(null);\r\n  const [detail, setDetail] = useState({});\r\n  const isLoading = useSelector((state) => state.detail.isLoading);\r\n  const isAuthenticated = useSelector((state) => state.auth.isAuthenticated);\r\n  const [kind, setKind] = useState(null);\r\n  const [added, setAdded] = useState(false);\r\n\r\n  const getRatingHandler = useCallback(\r\n    async (id) => {\r\n      try {\r\n        const response = await dispatch(\r\n          getRating({\r\n            media: id,\r\n          })\r\n        ).unwrap();\r\n        setKind(response.kind || null);\r\n      } catch (error) {\r\n        console.log('🚀 ~ file: MovieDetail.jsx ~ line 39 ~ getRatingHandler ~ error', error);\r\n      }\r\n    },\r\n    [dispatch]\r\n  );\r\n  const checkExistingHandler = useCallback(\r\n    async (id) => {\r\n      try {\r\n        const response = await dispatch(\r\n          checkExisting({\r\n            media: id,\r\n          })\r\n        ).unwrap();\r\n        setAdded(response._id ? true : false);\r\n      } catch (error) {\r\n        console.log('🚀 ~ file: MovieDetail.jsx ~ line 39 ~ getRatingHandler ~ error', error);\r\n      }\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const insertMyListHandler = async () => {\r\n    try {\r\n      await dispatch(\r\n        insertMyList({\r\n          media: id,\r\n        })\r\n      ).unwrap();\r\n      setAdded(true);\r\n    } catch (error) {\r\n      console.log('🚀 ~ file: MovieDetail.jsx ~ line 56 ~ insertMyListHandler ~ error', error);\r\n    }\r\n  };\r\n\r\n  const ratingHandler = useCallback(\r\n    async (id, rate) => {\r\n      if (rate === kind) rate = 0;\r\n      try {\r\n        await dispatch(\r\n          rating({\r\n            media: id,\r\n            kind: rate,\r\n          })\r\n        ).unwrap();\r\n\r\n        let currentLikes = detail.likes || 0;\r\n        let currentDislikes = detail.dislikes || 0;\r\n\r\n        if (rate !== 0) {\r\n          if (!kind) {\r\n            currentLikes = rate === 1 ? currentLikes + 1 : currentLikes;\r\n            currentDislikes = rate === 2 ? currentDislikes + 1 : currentDislikes;\r\n          } else if (kind === 1) {\r\n            currentLikes = currentLikes - 1;\r\n            currentDislikes = currentDislikes + 1;\r\n          } else if (kind === 2) {\r\n            currentLikes = currentLikes + 1;\r\n            currentDislikes = currentDislikes - 1;\r\n          }\r\n        } else {\r\n          if (kind === 1) {\r\n            currentLikes = currentLikes - 1;\r\n          } else if (kind === 2) {\r\n            currentDislikes = currentDislikes - 1;\r\n          }\r\n        }\r\n\r\n        setDetail((prev) => ({ ...prev, likes: currentLikes, dislikes: currentDislikes }));\r\n        setKind(rate);\r\n      } catch (error) {\r\n        console.log('🚀 ~ file: MovieDetail.jsx ~ line 57 ~ error', error);\r\n      }\r\n    },\r\n    [dispatch, detail, kind]\r\n  );\r\n  const getDetailHandler = useCallback(\r\n    async (id) => {\r\n      try {\r\n        const response = await dispatch(detailGetById(id)).unwrap();\r\n        setDetail(response);\r\n        console.log('🚀 ~ file: MovieDetail.jsx ~ line 119 ~ response)', response);\r\n      } catch (error) {\r\n        setError(error);\r\n      }\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const playHandler = () => {\r\n    history.push(`/watch/${id}`, { from: `/detail/${id}` });\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkExistingHandler(id);\r\n  }, [id, checkExistingHandler]);\r\n\r\n  useEffect(() => {\r\n    getDetailHandler(id);\r\n  }, [id, getDetailHandler]);\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      getRatingHandler(id);\r\n    }\r\n  }, [id, getRatingHandler, isAuthenticated]);\r\n\r\n  useEffect(() => {\r\n    const trailers = detail.videos;\r\n    if (trailers?.length) {\r\n      if (player) player.destroy();\r\n      const playerDOM = document.getElementById('player');\r\n\r\n      player = new Plyr(playerDOM);\r\n      const videoSettings = {\r\n        type: 'video',\r\n        sources: [\r\n          {\r\n            src: trailers[0].key,\r\n            provider: trailers[0].site?.toLowerCase(),\r\n            // src: 'PgkTGVVRkLU',\r\n            // provider: 'youtube',\r\n          },\r\n        ],\r\n      };\r\n      player.source = videoSettings;\r\n    }\r\n  }, [detail]);\r\n  useLayoutEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n  return (\r\n    <div className={classes.root}>\r\n      {isLoading && <Requesting />}\r\n      {!isLoading && error ? (\r\n        <Typography ratingiant=\"subtitle1\" color=\"primary\" align=\"center\" className={classes.error}>\r\n          {error}\r\n        </Typography>\r\n      ) : (\r\n        <Container>\r\n          <Box display=\"flex\" flexWrap=\"wrap\">\r\n            <img className={classes.poster} src={detail.posterUrl} alt=\"\" />\r\n            <Box className={classes.detail}>\r\n              <Typography ratingiant=\"h3\" className={classes.title}>\r\n                {detail.title}\r\n              </Typography>\r\n              <Box className={classes.review} display=\"flex\" flexWrap=\"wrap\" alignItems=\"center\">\r\n                <Box className={classes.release} display=\"flex\" flexWrap=\"wrap\" alignItems=\"center\">\r\n                  <AccessTime fontSize=\"small\" className={classes.iconTime} />\r\n                  <Typography ratingiant=\"body1\" className={classes.time}>\r\n                    {detail.releaseDate && timeToClient(detail.releaseDate)}\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n              <Typography ratingiant=\"body2\" className={classes.moreInfo}>\r\n                Total views: {detail.views}\r\n              </Typography>\r\n              <Typography ratingiant=\"body2\" className={classes.moreInfo}>\r\n                Genres:{' '}\r\n                {detail.genres?.map((item, index) => (\r\n                  <Link\r\n                    key={index}\r\n                    to={`/movie?genre=${item.name?.toLowerCase()}`}\r\n                    className={classes.genre}>\r\n                    {index === 0 ? ' ' : ', '}\r\n                    {item.name}\r\n                  </Link>\r\n                ))}\r\n              </Typography>\r\n              <Typography ratingiant=\"body2\" className={classes.moreInfo}>\r\n                Producers: {detail.producers?.map((item) => item.name).join(', ')}\r\n              </Typography>\r\n\r\n              {!added && (\r\n                <Box className={classes.actions}>\r\n                  <Button\r\n                    ratingiant=\"outlined\"\r\n                    className={classes.rating}\r\n                    startIcon={<Add />}\r\n                    onClick={insertMyListHandler}>\r\n                    ADD TO MY LIST\r\n                  </Button>\r\n                </Box>\r\n              )}\r\n\r\n              <Box className={classes.actions}>\r\n                <Button\r\n                  className={`${classes.rating} ${kind === 1 ? classes.rated : ''}`}\r\n                  startIcon={<ThumbUpAlt />}\r\n                  onClick={() => ratingHandler(id, 1)}>\r\n                  ({detail.likes || 0})\r\n                </Button>\r\n                <Button\r\n                  className={`${classes.rating} ${kind === 2 ? classes.rated : ''}`}\r\n                  startIcon={<ThumbDownAlt />}\r\n                  onClick={() => ratingHandler(id, 2)}>\r\n                  ({detail.dislikes || 0})\r\n                </Button>\r\n              </Box>\r\n              <Box className={classes.actions}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.btnPlay}\r\n                  startIcon={<PlayArrow />}\r\n                  onClick={playHandler}>\r\n                  Play\r\n                </Button>\r\n              </Box>\r\n            </Box>\r\n          </Box>\r\n          <Box className={classes.content}>\r\n            <Box className={`${classes.section} ${classes.description}`} data-aos=\"fade-up\">\r\n              <Typography ratingiant=\"body1\" className={classes.descriptionContent}>\r\n                {detail.overview}\r\n              </Typography>\r\n            </Box>\r\n            {detail?.videos?.length > 0 && (\r\n              <Box className={classes.section} data-aos=\"fade-up\">\r\n                <Typography ratingiant=\"h5\" color=\"primary\" className={classes.subtitle}>\r\n                  Offical Trailer:\r\n                </Typography>\r\n                <div className={classes.playerWrapper}>\r\n                  <video id=\"player\" playsInline controls />\r\n                </div>\r\n              </Box>\r\n            )}\r\n\r\n            {/* <Box className={classes.section} data-aos=\"fade-up\">\r\n              <Typography ratingiant=\"h5\" color=\"primary\" className={classes.subtitle}>\r\n                Comment\r\n              </Typography>\r\n              <Box>\r\n                <Box className={classes.commentBox}>\r\n                  <form>\r\n                    <FormControl fullWidth>\r\n                      <TextField\r\n                        multiline\r\n                        rows={4}\r\n                        ratingiant=\"filled\"\r\n                        placeholder=\"What do you thing?\"\r\n                        className={classes.inputComment}\r\n                      />\r\n                    </FormControl>\r\n                  </form>\r\n                  <Button ratingiant=\"contained\" color=\"primary\" className={classes.btnPostComment}>\r\n                    Post\r\n                  </Button>\r\n                </Box>\r\n                <ul>\r\n                  <li>\r\n                    <CommentItem\r\n                      loggedId=\"1\"\r\n                      userId=\"1\"\r\n                      avatar=\"https://i9.photobucket.com/albums/a88/creaticode/avatar_1_zps8e1c80cd.jpg\"\r\n                      name=\"Agustin Ortiz\"\r\n                      content=\"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit omnis animi et iure laudantium vitae, praesentium optio, sapiente distinctio illo?\"\r\n                      createdAt=\"20m ago\"\r\n                    />\r\n                  </li>\r\n                  <li>\r\n                    <CommentItem\r\n                      avatar=\"https://i9.photobucket.com/albums/a88/creaticode/avatar_1_zps8e1c80cd.jpg\"\r\n                      name=\"Agustin Ortiz\"\r\n                      content=\"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit omnis animi et iure laudantium vitae, praesentium optio, sapiente distinctio illo?\"\r\n                      createdAt=\"20m ago\"\r\n                    />\r\n                  </li>\r\n                  <li>\r\n                    <CommentItem\r\n                      avatar=\"https://i9.photobucket.com/albums/a88/creaticode/avatar_1_zps8e1c80cd.jpg\"\r\n                      name=\"Agustin Ortiz\"\r\n                      content=\"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit omnis animi et iure laudantium vitae, praesentium optio, sapiente distinctio illo?\"\r\n                      createdAt=\"20m ago\"\r\n                    />\r\n                  </li>\r\n                </ul>\r\n              </Box>\r\n              <ButtonLoading fullWidth={false} style={{ width: 200, margin: '0 auto' }}>\r\n                Load more\r\n              </ButtonLoading>\r\n            </Box> */}\r\n          </Box>\r\n          <Box className={classes.suggestion} data-aos=\"fade-up\"></Box>\r\n        </Container>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MovieDetail;\r\n"],"sourceRoot":""}
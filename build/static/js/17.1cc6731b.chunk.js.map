{"version":3,"sources":["pages/AUTH/MyList/MyList.styles.jsx","../node_modules/@material-ui/icons/esm/DeleteForever.js","pages/AUTH/MyList/MyList.jsx"],"names":["makeStyles","theme","root","minHeight","paddingTop","background","palette","secondary","main","section","position","marginBottom","spacing","breakpoints","down","pagination","marginTop","color","borderColor","alpha","primary","del","right","top","zIndex","transition","createSvgIcon","React","d","MyList","classes","useStyles","dispatch","useDispatch","totalPages","useSelector","state","mylist","results","useState","page","setPage","error","setError","getMyListHandler","useCallback","limit","a","getMyList","unwrap","toast","delMyListByIdHandler","e","id","preventDefault","delMyListById","media","myListActions","removeItem","useEffect","className","Box","padding","length","Typography","style","textAlign","Grid","container","map","movie","index","item","xs","sm","md","lg","IconButton","size","onClick","_id","DeleteForever","fontSize","MovieItem","title","image","posterUrl","description","overview","genres","name","onlyMobile","Pagination","variant","shape","onChange","event","value","count"],"mappings":"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","file":"static/js/17.1cc6731b.chunk.js","sourcesContent":["import { alpha } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    minHeight: '100vh',\r\n    paddingTop: '20vh',\r\n    background: theme.palette.secondary.main,\r\n  },\r\n  section: {\r\n    position: 'relative',\r\n    '&:nth-child(n + 6)': {\r\n      marginBottom: theme.spacing(7),\r\n    },\r\n    [theme.breakpoints.down('md')]: {\r\n      '&:nth-child(n + 4)': {\r\n        marginBottom: theme.spacing(6),\r\n      },\r\n    },\r\n    [theme.breakpoints.down('sm')]: {\r\n      '&:nth-child(n + 3)': {\r\n        marginBottom: theme.spacing(5),\r\n      },\r\n    },\r\n    [theme.breakpoints.down('xs')]: {\r\n      '&:nth-child(n + 2)': {\r\n        marginBottom: theme.spacing(4),\r\n      },\r\n    },\r\n  },\r\n  pagination: {\r\n    marginTop: theme.spacing(5),\r\n    '& .MuiPaginationItem-root': {\r\n      color: '#fff',\r\n      borderColor: alpha('#fff', 0.5),\r\n    },\r\n    '& .MuiPaginationItem-root.Mui-selected': {\r\n      color: theme.palette.primary.main,\r\n      borderColor: theme.palette.primary.main,\r\n    },\r\n  },\r\n\r\n  del: {\r\n    position: 'absolute',\r\n    right: theme.spacing(2),\r\n    top: theme.spacing(2),\r\n    zIndex: 100,\r\n    color: '#fff',\r\n    background: alpha('#000', 0.5),\r\n    transition: '.5s',\r\n    '&:hover': {\r\n      color: theme.palette.primary.main,\r\n      background: '#fff',\r\n    },\r\n  },\r\n}));\r\n","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteForever');","import { Box, Grid, IconButton, Typography } from '@material-ui/core';\r\nimport React, { useCallback, useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport MovieItem from '../../../components/MovieItem/MovieItem';\r\nimport { toast } from 'react-toastify';\r\nimport useStyles from './MyList.styles';\r\nimport { delMyListById, getMyList, myListActions } from '../../../slices/myList.slice';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport { DeleteForever } from '@material-ui/icons';\r\n\r\nfunction MyList() {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const totalPages = useSelector((state) => state.mylist.totalPages);\r\n  const results = useSelector((state) => state.mylist.results);\r\n\r\n  // const totalResults = useSelector((state) => state.mylist.totalResults);\r\n  // const currentPage = useSelector((state) => state.mylist.page);\r\n  // const isLoading = useSelector((state) => state.search.isLoading);\r\n\r\n  const [page, setPage] = useState(1);\r\n  // const [limit, setLimit] = useState(42);\r\n  const limit = 42;\r\n  const [error, setError] = useState(null);\r\n\r\n  const pageChangeHandler = (event, value) => {\r\n    setPage(value);\r\n  };\r\n\r\n  const getMyListHandler = useCallback(\r\n    async (page, limit) => {\r\n      setError(null);\r\n      try {\r\n        await dispatch(\r\n          getMyList({\r\n            page,\r\n            limit,\r\n          })\r\n        ).unwrap();\r\n      } catch (error) {\r\n        toast.error(error);\r\n        setError('Something went wrong!');\r\n      }\r\n    },\r\n    [dispatch]\r\n  );\r\n  const delMyListByIdHandler = useCallback(\r\n    async (e, id) => {\r\n      e.preventDefault();\r\n      setError(null);\r\n      try {\r\n        await dispatch(delMyListById({ media: id })).unwrap();\r\n        dispatch(myListActions.removeItem(id));\r\n      } catch (error) {\r\n        toast.error(error);\r\n      }\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  useEffect(() => {\r\n    getMyListHandler(page, limit);\r\n  }, [dispatch, page, limit, getMyListHandler]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Box padding=\"0 4%\">\r\n        {!results || results?.length === 0 ? (\r\n          <Typography color=\"primary\" style={{ textAlign: 'center' }}>\r\n            {error ? error : `No data available`}\r\n          </Typography>\r\n        ) : (\r\n          <></>\r\n        )}\r\n        <Grid container spacing={2}>\r\n          {results?.map((movie, index) => (\r\n            <Grid item xs={6} sm={4} md={3} lg={2} key={index} className={classes.section}>\r\n              <IconButton\r\n                className={classes.del}\r\n                size={'small'}\r\n                onClick={(e) => delMyListByIdHandler(e, movie.media?._id)}>\r\n                <DeleteForever fontSize=\"small\" />\r\n              </IconButton>\r\n              <MovieItem\r\n                id={movie.media?._id}\r\n                title={movie.media?.title}\r\n                image={movie.media?.posterUrl}\r\n                description={movie.media?.overview}\r\n                genres={movie.media?.genres?.map((item) => item.name)}\r\n                onlyMobile={true}\r\n              />\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n        {totalPages > 0 && (\r\n          <div className={classes.pagination}>\r\n            <Pagination\r\n              color=\"primary\"\r\n              variant=\"outlined\"\r\n              shape=\"rounded\"\r\n              page={page}\r\n              onChange={pageChangeHandler}\r\n              count={totalPages}\r\n            />\r\n          </div>\r\n        )}\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyList;\r\n"],"sourceRoot":""}
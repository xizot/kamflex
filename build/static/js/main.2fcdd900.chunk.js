(this["webpackJsonpreact-movie"]=this["webpackJsonpreact-movie"]||[]).push([[4],{12:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n(39),r=n.n(a),c=n(24),s=Object(c.a)(),i="https://kamplex2.azurewebsites.net";r.a.defaults.baseURL=i,r.a.interceptors.request.use((function(e){var t=localStorage.accessToken;return t&&(e.headers.Authorization=t),e}),(function(e){Promise.reject(e)})),r.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;if(401===e.response.status&&(t._retry||t.url==="".concat(i,"/api/auth/refresh-token")))return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),s.push("/logout"),Promise.reject(e);if(401===e.response.status&&!t._retry){t._retry=!0;var n=localStorage.getItem("refreshToken");return n?r.a.post("".concat(i,"/api/auth/refresh-token"),{refreshToken:n}).then((function(e){if(200===e.status){var n=e.data,a=n.accessToken,c=n.refreshToken;return localStorage.setItem("accessToken",a),localStorage.setItem("refreshToken",c),r.a.defaults.headers.common.Authorization=a,r()(t)}})):(s.push("/logout"),Promise.reject(e))}return Promise.reject(e)})),t.a=r.a},143:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(15),c=n.n(r),s=n(13),i=n(55),o=n(69),u=n(194),l=n(180),p=n(178),d=n(179),f=n(183),b=n(17),h=n(181),j=n(182),m=n(184),g=n(185),O=n(8),v=n(172),x=Object(v.a)((function(e){return{root:{minHeight:"100vh",paddingTop:"20vh"},logo:{marginRight:e.spacing(5)},toolBar:{display:"flex",alignItems:"center",justifyContent:"space-between"},navLink:{display:"block",opacity:.7,"&:not(:last-child)":{marginRight:e.spacing(2)}},navLinkActive:{opacity:1},spSection:Object(O.a)({display:"none"},e.breakpoints.down("sm"),{display:"block"}),spSectionContent:{position:"fixed",top:0,left:0,height:"100vh",width:"100vw",zIndex:9999,background:e.palette.secondary.main,padding:e.spacing(15,2),transition:"all .5s",marginLeft:"-100%"},openSPMenu:{marginLeft:0},spNavigation:{"& $navLink":{textAlign:"center",marginRight:0,marginBottom:e.spacing(2)}},desktopSection:Object(O.a)({display:"flex",alignItems:"center"},e.breakpoints.down("sm"),{display:"none"}),iconClose:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:"#fff"},circleIcon:{color:"#fff",marginRight:e.spacing(1)}}})),k=n(21),y=n(36),w=n(195),L=n(177),S=n(49),I=Object(v.a)((function(e){return{root:{position:"relative",transition:"width .5s"},isOpen:{width:250,border:"1px solid #fff"},isClose:{width:40},searchInput:{width:"100%",paddingLeft:40,paddingRight:e.spacing(1),color:"#fff","& input":{color:"#fff"},"& .MuiFilledInput-underline:after":{display:"none"},"& .Mui-focused:after":{display:"none"}},icon:{position:"absolute",left:0,top:"50%",width:40,transform:"translateY(-50%)"}}})),N=n(2);var P=function(){var e=I(),t=Object(k.c)((function(e){return e.search.isOpenSearch})),n=Object(k.c)((function(e){return e.search.query})),r=Object(k.b)(),c=Object(s.g)();return Object(a.useEffect)((function(){window.addEventListener("click",(function(){r(S.c.closeSearch())}))}),[r]),Object(N.jsxs)("form",{className:"".concat(e.root," ").concat(t?e.isOpen:e.isClose),onClick:function(e){return function(e){e.stopPropagation(),r(S.c.openSearch())}(e)},onSubmit:function(e){e.preventDefault(),c.push("/search?q=".concat(n))},children:[Object(N.jsx)(w.a,{variant:"standard",className:e.searchInput,value:n,onChange:function(e){r(S.c.searchChange(e.target.value))}}),Object(N.jsx)(L.a,{className:e.icon})]})},T=[{link:"/movie",title:"Movies",protect:!1},{link:"/my-list",title:"My List",protect:!0},{link:"/history",title:"History",protect:!0}];var C=function(){var e=x(),t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=n[1],i=Object(k.c)((function(e){return e.auth.isAuthenticated})),O=Object(k.b)(),v=Object(s.g)(),w=function(){c(!1)};return Object(N.jsx)(p.a,{color:"secondary",children:Object(N.jsxs)(d.a,{className:e.toolBar,children:[Object(N.jsxs)(u.a,{display:"flex",alignItems:"center",children:[Object(N.jsxs)(u.a,{display:"flex",alignItems:"center",children:[Object(N.jsxs)(u.a,{className:e.spSection,children:[Object(N.jsx)(l.a,{style:{color:"#fff"},onClick:function(){c(!0)},children:Object(N.jsx)(h.a,{})}),Object(N.jsxs)(u.a,{className:"".concat(e.spSectionContent," ").concat(r?e.openSPMenu:""),children:[Object(N.jsx)(l.a,{className:e.iconClose,onClick:w,children:Object(N.jsx)(j.a,{})}),Object(N.jsx)(u.a,{className:e.spNavigation,children:T.map((function(t,n){var a=t.link,r=t.title;return t.protect?i&&Object(N.jsx)(b.b,{to:a,className:e.navLink,activeClassName:e.navLinkActive,onClick:w,children:r},n):Object(N.jsx)(b.b,{to:a,className:e.navLink,activeClassName:e.navLinkActive,onClick:w,children:r},n)}))})]})]}),Object(N.jsx)(b.a,{to:"/",className:e.logo,children:"KamFlex"})]}),Object(N.jsx)(u.a,{marginLeft:2,className:e.desktopSection,children:T.map((function(t,n){var a=t.link,r=t.title;return t.protect?i&&Object(N.jsx)(b.b,{to:a,className:e.navLink,activeClassName:e.navLinkActive,onClick:w,children:r},n):Object(N.jsx)(b.b,{to:a,className:e.navLink,activeClassName:e.navLinkActive,onClick:w,children:r},n)}))})]}),Object(N.jsxs)(u.a,{display:"flex",alignItems:"center",children:[Object(N.jsx)(u.a,{marginRight:4,children:Object(N.jsx)(P,{})}),i?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(b.a,{to:"/account",children:Object(N.jsx)(l.a,{className:e.circleIcon,children:Object(N.jsx)(m.a,{})})}),Object(N.jsxs)(f.a,{color:"primary",variant:"contained",onClick:function(){O(y.a.logout()),v.push("/login")},children:["Logout ",Object(N.jsx)(g.a,{style:{marginLeft:5}})]})]}):Object(N.jsx)(b.a,{to:"/login",children:Object(N.jsx)(f.a,{color:"primary",variant:"contained",children:"Login"})})]})]})})},R=n(99),V=n(192),A=n(193),W=n(186),z=n(187),E=n(191),B=n(188),M=n(189),q=n(190),F=Object(v.a)((function(e){return{root:{background:e.palette.secondary.main},content:{padding:e.spacing(5,0,1,0)},options:{},optionItem:{display:"block",marginBottom:e.spacing(2),"& > a":{color:"#fff",display:"flex",alignItems:"center"}},optionItemIcon:{marginRight:e.spacing(.5)},copyright:{padding:e.spacing(5,0),color:"#fff",textAlign:"center",borderTop:"1px solid #ddd"}}}));var X=function(){var e=F();return Object(N.jsxs)("footer",{className:e.root,children:[Object(N.jsx)(W.a,{children:Object(N.jsxs)(z.a,{container:!0,className:e.content,children:[Object(N.jsx)(z.a,{item:!0,xs:6,sm:3,children:Object(N.jsxs)("ul",{className:e.options,children:[Object(N.jsx)("li",{className:e.optionItem,children:Object(N.jsx)(b.a,{to:"/",children:"Contact"})}),Object(N.jsx)("li",{className:e.optionItem,children:Object(N.jsx)(b.a,{to:"/",children:"About Us"})}),Object(N.jsx)("li",{className:e.optionItem,children:Object(N.jsx)(b.a,{to:"/",children:"License"})})]})}),Object(N.jsx)(z.a,{item:!0,xs:6,sm:3,children:Object(N.jsxs)("ul",{className:e.options,children:[Object(N.jsx)("li",{className:e.optionItem,children:Object(N.jsx)(b.a,{to:"/",children:"Browse"})}),Object(N.jsx)("li",{className:e.optionItem,children:Object(N.jsx)(b.a,{to:"/",children:"Movies"})}),Object(N.jsx)("li",{className:e.optionItem,children:Object(N.jsx)(b.a,{to:"/",children:"TV Show"})})]})}),Object(N.jsx)(z.a,{item:!0,xs:6,sm:3,children:Object(N.jsxs)("ul",{className:e.options,children:[Object(N.jsx)("li",{className:e.optionItem,children:Object(N.jsxs)(b.a,{to:"/",children:[Object(N.jsx)(B.a,{className:e.optionItemIcon}),"Facebook"]})}),Object(N.jsx)("li",{className:e.optionItem,children:Object(N.jsxs)(b.a,{to:"/",children:[Object(N.jsx)(M.a,{className:e.optionItemIcon}),"Instagram"]})}),Object(N.jsx)("li",{className:e.optionItem,children:Object(N.jsxs)(b.a,{to:"/",children:[Object(N.jsx)(q.a,{className:e.optionItemIcon}),"Github"]})})]})})]})}),Object(N.jsx)(u.a,{children:Object(N.jsx)(E.a,{variant:"body1",className:e.copyright,children:"Copyright \xa9 2021 PhimChua. All Rights reserved."})})]})},D=n(68),_=n.n(D),J=(n(140),Object(v.a)((function(e){return{root:{position:"fixed",zIndex:9999,top:0,left:0,width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:e.palette.secondary.main},balls:{width:"6.5em",display:"flex",flexFlow:"row nowrap",alignItems:"center",justifyContent:"space-between","& div":{width:"1em",height:"1em",borderRadius:"50%",backgroundColor:e.palette.primary.main},"& div:nth-of-type(1)":{transform:"translateX(-100%)",animation:"$leftSwing 0.5s ease-in alternate infinite"},"& div:nth-of-type(3)":{transform:"translateX(-95%)",animation:"$rightSwing 0.5s ease-out alternate infinite"}},"@keyframes leftSwing":{"50%, 100%":{transform:" translateX(95%)"}},"@keyframes rightSwing":{"50%":{transform:"translateX(-95%)"},"100%":{transform:" translateX(100%)"}}}})));var U=function(){var e=J();return Object(N.jsx)("div",{className:e.root,children:Object(N.jsxs)("div",{className:e.balls,children:[Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{})]})})};var $=function(){return Object(N.jsxs)(u.a,{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",style:{backgroundColor:"#131722"},children:[Object(N.jsx)(E.a,{variant:"h3",color:"primary",children:"BANNED"}),Object(N.jsx)(b.a,{to:"/logout",style:{marginTop:20,color:"#fff",background:"#E30812",borderRadius:4,padding:5},children:"Logout"})]})};var H=function(){var e=Object(k.b)(),t=Object(s.h)();return console.log(t),Object(a.useEffect)((function(){e(y.a.logout())}),[e]),Object(N.jsx)(s.a,{to:{pathname:"/login"}})},G=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,305))})),K=Object(a.lazy)((function(){return Promise.all([n.e(7),n.e(18)]).then(n.bind(null,299))})),Y=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,306))})),Q=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(19)]).then(n.bind(null,307))})),Z=Object(a.lazy)((function(){return Promise.all([n.e(2),n.e(11)]).then(n.bind(null,302))})),ee=[{path:"/",protected:!1,exact:!0,component:K},{path:"/login",protected:!1,exact:!0,component:Y},{path:"/banned",protected:!1,exact:!0,component:$},{path:"/register",protected:!1,exact:!0,component:Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(3),n.e(12)]).then(n.bind(null,308))}))},{path:"/forgot-password",protected:!1,exact:!0,component:G},{path:"/reset-password",protected:!1,exact:!0,component:Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,309))}))},{path:"/confirm-email",protected:!1,exact:!0,component:Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,303))}))},{path:"/detail/:id",protected:!1,exact:!0,component:Z},{path:"/watch/:id",protected:!1,exact:!0,component:Object(a.lazy)((function(){return Promise.all([n.e(2),n.e(15)]).then(n.bind(null,310))}))},{path:"/movie",protected:!1,exact:!0,component:Q},{path:"/search",protected:!1,exact:!0,component:Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(20)]).then(n.bind(null,311))}))},{path:"/my-list",protected:!0,exact:!0,component:Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(17)]).then(n.bind(null,304))}))},{path:"/history",protected:!0,exact:!0,component:Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(16)]).then(n.bind(null,312))}))},{path:"/account",protected:!0,exact:!0,component:Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(3),n.e(13)]).then(n.bind(null,301))}))},{path:"/logout",protected:!1,exact:!0,component:H}];var te=function(e){var t=Object(k.c)((function(e){return e.auth.isAuthenticated})),n=Object(k.c)((function(e){return e.auth.user}));return t?(null===n||void 0===n?void 0:n.banned)?Object(N.jsx)(s.a,{to:{pathname:"/banned"}}):!1===(null===n||void 0===n?void 0:n.verified)?Object(N.jsx)(s.a,{to:{pathname:"/confirm-email",state:{from:e.currentPath}}}):Object(N.jsx)("div",{children:e.children}):Object(N.jsx)(s.a,{to:{pathname:"/login",state:{from:e.currentPath}}})},ne=(n(141),n(71)),ae=Object(R.a)({palette:{primary:{main:"#E30812",contrastText:"#fff"},secondary:{main:"#131722",contrastText:"#fff"}}});var re=function(){var e=Object(k.b)(),t=Object(k.c)((function(e){return e.auth.user})),n=Object(s.g)(),r=Object(s.h)();return Object(a.useEffect)((function(){_.a.init({offset:120}),_.a.refresh();var t=localStorage.getItem("accessToken"),n=localStorage.getItem("refreshToken");t&&n&&e(y.a.verifiedAuth({accessToken:t,refreshToken:n}))}),[e]),Object(a.useEffect)((function(){if(!1===(null===t||void 0===t?void 0:t.verified)&&!r.pathname.includes("/confirm-email"))return n.push("/confirm-email")}),[t,n,r.pathname]),Object(N.jsxs)(V.a,{theme:ae,children:[Object(N.jsx)(ne.a,{}),Object(N.jsx)(A.a,{}),Object(N.jsx)(C,{}),Object(N.jsx)(a.Suspense,{fallback:Object(N.jsx)(U,{}),children:Object(N.jsxs)(s.d,{children:[ee.map((function(e,t){return Object(N.jsx)(s.b,{path:e.path,exact:e.exact,render:function(t){return e.protected?Object(N.jsx)(te,Object(i.a)(Object(i.a)({},t),{},{currentPath:e.path,children:Object(N.jsx)(e.component,{})})):Object(N.jsx)(e.component,Object(i.a)({},e.props))}},t)})),Object(N.jsx)(s.b,{path:"*",children:"404 NOT FOUND"})]})}),Object(N.jsx)(X,{})]})},ce=(n(142),n(143),n(9)),se=n(91),ie=n(92),oe=n(74),ue=n(75),le=n(93),pe=n(77),de=n(94),fe=Object(ce.a)({reducer:{stream:le.a.reducer,detail:se.a.reducer,media:oe.a.reducer,auth:y.c.reducer,search:S.a.reducer,mylist:ue.b.reducer,history:ie.a.reducer,rating:pe.a.reducer,userInfo:de.a.reducer}}),be=n(12);c.a.render(Object(N.jsx)(k.a,{store:fe,children:Object(N.jsx)(s.c,{history:be.b,children:Object(N.jsx)(re,{})})}),document.getElementById("root"))},36:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"g",(function(){return j})),n.d(t,"a",(function(){return v}));var a,r=n(8),c=n(7),s=n.n(c),i=n(14),o=n(9),u=n(12),l=n(98),p=(Object(o.b)("auth/get",function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,u.a.get("/api/media/".concat(t));case 4:return e.abrupt("return",e.sent.data);case 7:if(e.prev=7,e.t0=e.catch(1),e.t0.response){e.next=11;break}throw e.t0;case 11:return e.abrupt("return",a(e.t0.response.data.message));case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),Object(o.b)("auth/login",function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.password,c=n.rejectWithValue,e.prev=2,e.next=5,u.a.post("/api/auth/sign-in",{email:a,password:r});case 5:return e.abrupt("return",e.sent.data);case 8:if(e.prev=8,e.t0=e.catch(2),e.t0.response){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",c(e.t0.response.data.message));case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}())),d=Object(o.b)("auth/register",function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a,r,c,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.username,c=t.password,i=t.birthdate,o=n.rejectWithValue,e.prev=2,e.next=5,u.a.post("/api/auth/sign-up",{email:a,username:r,password:c,birthdate:i});case 5:return e.abrupt("return",e.sent.data);case 8:if(e.prev=8,e.t0=e.catch(2),e.t0.response){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",o(e.t0.response.data.message));case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()),f=Object(o.b)("auth/sendConfirmEmail",function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,u.a.post("/api/auth/send-confirmation-email");case 4:return e.abrupt("return",e.sent.data);case 7:if(e.prev=7,e.t0=e.catch(1),e.t0.response){e.next=11;break}throw e.t0;case 11:return e.abrupt("return",a(e.t0.response.data.message));case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),b=Object(o.b)("auth/confirmEmail",function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,r=t.activationCode,c=n.rejectWithValue,e.prev=2,e.next=5,u.a.post("/api/auth/confirm-email",{id:a,activationCode:r});case 5:return e.abrupt("return",e.sent.data);case 8:if(e.prev=8,e.t0=e.catch(2),e.t0.response){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",c(e.t0.response.data.message));case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()),h=Object(o.b)("auth/forgotPassword",function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=n.rejectWithValue,e.prev=2,e.next=5,u.a.post("/api/auth/password-recovery",{email:a});case 5:return e.abrupt("return",e.sent.data);case 8:if(e.prev=8,e.t0=e.catch(2),e.t0.response){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",r(e.t0.response.data.message));case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()),j=Object(o.b)("auth/resetPassword",function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a,r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,r=t.recoveryCode,c=t.password,i=n.rejectWithValue,e.prev=2,e.next=5,u.a.post("/api/auth/reset-password",{id:a,recoveryCode:r,password:c});case 5:return e.abrupt("return",e.sent.data);case 8:if(e.prev=8,e.t0=e.catch(2),e.t0.response){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",i(e.t0.response.data.message));case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()),m=function(e){e.isLoading=!0,e.isAuthenticated=!1,e.user={},e.accessToken=null,e.refreshToken=null,localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")},g=function(e,t){var n=t.payload,a=n.accessToken,r=n.refreshToken;e.isAuthenticated=!0,e.isLoading=!1,e.accessToken=a,e.refreshToken=r,e.user=function(e){try{return Object(l.a)(e)}catch(t){console.log("\ud83d\ude80 ~ file: jwt.js ~ line 6 ~ decodeJwt ~ error",t)}return null}(a),localStorage.setItem("accessToken",a),localStorage.setItem("refreshToken",r)},O=Object(o.c)({name:"authSlice",initialState:{isLoading:!1,isAuthenticated:!1,user:{},accessToken:null,refreshToken:null},reducers:{verifiedAuth:g,logout:function(e){e.isAuthenticated=!1,e.isLoading=!1,e.accessToken=null,e.refreshToken=null,e.user={},localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}},extraReducers:(a={},Object(r.a)(a,p.pending,m),Object(r.a)(a,p.rejected,(function(e){e.isLoading=!1})),Object(r.a)(a,p.fulfilled,g),Object(r.a)(a,d.pending,m),Object(r.a)(a,d.rejected,(function(e){e.isLoading=!1})),Object(r.a)(a,d.fulfilled,g),Object(r.a)(a,b.pending,(function(e){e.isLoading=!0})),Object(r.a)(a,b.rejected,(function(e){e.isLoading=!1})),Object(r.a)(a,b.fulfilled,g),Object(r.a)(a,h.pending,(function(e){e.isLoading=!0})),Object(r.a)(a,h.rejected,(function(e){e.isLoading=!1})),Object(r.a)(a,h.fulfilled,(function(e){e.isLoading=!1})),Object(r.a)(a,j.pending,(function(e){e.isLoading=!0})),Object(r.a)(a,j.rejected,(function(e){e.isLoading=!1})),Object(r.a)(a,j.fulfilled,g),a)}),v=O.actions;t.c=O},49:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d}));var a,r=n(8),c=n(7),s=n.n(c),i=n(14),o=n(9),u=n(12),l=Object(o.b)("search/get",function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,u.a.get("/api/media?search=".concat(t.search,"&page=").concat(t.page,"&limit=").concat(t.limit,"&sort=").concat(t.sort));case 4:return e.abrupt("return",e.sent.data);case 7:if(e.prev=7,e.t0=e.catch(1),e.t0.response){e.next=11;break}throw e.t0;case 11:return e.abrupt("return",a(e.t0.response.data.message));case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),p=Object(o.c)({name:"searchSlice",initialState:{isLoading:!1,isOpenSearch:!1,query:"",totalPages:0,totalResults:0,page:0,results:[]},reducers:{searchChange:function(e,t){e.query=t.payload},clear:function(e){e.query=""},openSearch:function(e){e.isOpenSearch=!0},closeSearch:function(e){e.isOpenSearch=!1}},extraReducers:(a={},Object(r.a)(a,l.pending,(function(e){e.isLoading=!0})),Object(r.a)(a,l.rejected,(function(e){e.isLoading=!1})),Object(r.a)(a,l.fulfilled,(function(e,t){e.isLoading=!1;var n=t.payload,a=n.totalPages,r=n.totalResults,c=n.page,s=n.results;e.totalPages=a,e.totalResults=r,e.page=c,e.results=s})),a)}),d=p.actions;t.a=p},74:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var a,r=n(8),c=n(7),s=n.n(c),i=n(14),o=n(9),u=n(12),l=Object(o.b)("media/get",function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a,r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.page,r=t.limit,c=t.sort,i=n.rejectWithValue,e.prev=2,e.next=5,u.a.get("/api/media?page=".concat(a,"&limit=").concat(r,"&sort=").concat(c));case 5:return e.abrupt("return",e.sent.data);case 8:if(e.prev=8,e.t0=e.catch(2),e.t0.response){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",i(e.t0.response.data.message));case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()),p=Object(o.c)({name:"mediaSlice",initialState:{isLoading:!1,totalPages:0,totalResults:0,page:0,results:[]},extraReducers:(a={},Object(r.a)(a,l.pending,(function(e){e.isLoading=!0})),Object(r.a)(a,l.rejected,(function(e){e.isLoading=!1})),Object(r.a)(a,l.fulfilled,(function(e,t){e.isLoading=!1;var n=t.payload,a=n.totalPages,r=n.totalResults,c=n.page,s=n.results;e.totalPages=a,e.totalResults=r,e.page=c,e.results=s})),a)});p.actions;t.a=p},75:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return h}));var a,r=n(8),c=n(7),s=n.n(c),i=n(14),o=n(9),u=n(12),l=Object(o.b)("myList/get",function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.page,r=t.limit,c=n.rejectWithValue,e.prev=2,e.next=5,u.a.get("/api/playlists?page=".concat(a,"&limit=").concat(r));case 5:return e.abrupt("return",e.sent.data);case 8:if(e.prev=8,e.t0=e.catch(2),e.t0.response){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",c(e.t0.response.data.message));case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()),p=Object(o.b)("myList/post",function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.media,r=n.rejectWithValue,e.prev=2,e.next=5,u.a.post("/api/playlists",{media:a});case 5:return e.abrupt("return",e.sent.data);case 8:if(e.prev=8,e.t0=e.catch(2),e.t0.response){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",r(e.t0.response.data.message));case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()),d=Object(o.b)("myList/getExisting",function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.media,r=n.rejectWithValue,e.prev=2,e.next=5,u.a.get("/api/playlists/media/".concat(a));case 5:return e.abrupt("return",e.sent.data);case 8:if(e.prev=8,e.t0=e.catch(2),e.t0.response){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",r(e.t0.response.data.message));case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()),f=Object(o.b)("myList/post",function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.media,r=n.rejectWithValue,e.prev=2,e.next=5,u.a.delete("/api/playlists/media/".concat(a));case 5:return e.abrupt("return",e.sent.data);case 8:if(e.prev=8,e.t0=e.catch(2),e.t0.response){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",r(e.t0.response.data.message));case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()),b=Object(o.c)({name:"myListSlice",initialState:{isLoading:!1,totalPages:0,totalResults:0,page:0,results:[]},reducers:{removeItem:function(e,t){e.results=e.results.filter((function(e){return e.media._id!==t.payload})),0===e.results.length&&0!==e.totalPages&&(e.totalPages=e.totalPages-1)}},extraReducers:(a={},Object(r.a)(a,l.pending,(function(e){e.isLoading=!0})),Object(r.a)(a,l.rejected,(function(e){e.isLoading=!1})),Object(r.a)(a,l.fulfilled,(function(e,t){e.isLoading=!1;var n=t.payload,a=n.totalPages,r=n.totalResults,c=n.page,s=n.results;e.totalPages=a,e.totalResults=r,e.page=c,e.results=s})),a)}),h=b.actions;t.b=b},77:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u}));var a=n(7),r=n.n(a),c=n(14),s=n(9),i=n(12),o=Object(s.b)("rating/get",function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.media,c=n.rejectWithValue,e.prev=2,e.next=5,i.a.get("/api/ratings?media=".concat(a));case 5:return e.abrupt("return",e.sent.data);case 8:if(e.prev=8,e.t0=e.catch(2),e.t0.response){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",c(e.t0.response.data.message));case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()),u=Object(s.b)("rating/post",function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.media,c=t.kind,s=n.rejectWithValue,e.prev=2,e.next=5,i.a.post("/api/ratings",{media:a,kind:c});case 5:return e.abrupt("return",e.sent.data);case 8:if(e.prev=8,e.t0=e.catch(2),e.t0.response){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",s(e.t0.response.data.message));case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()),l=Object(s.c)({name:"ratingSlice",initialState:{}});l.actions;t.a=l},91:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var a,r=n(8),c=n(7),s=n.n(c),i=n(14),o=n(9),u=n(12),l=Object(o.b)("detail/get",function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,u.a.get("/api/media/".concat(t));case 4:return e.abrupt("return",e.sent.data);case 7:if(e.prev=7,e.t0=e.catch(1),e.t0.response){e.next=11;break}throw e.t0;case 11:return e.abrupt("return",a(e.t0.response.data.message));case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),p=Object(o.c)({name:"detailSlice",initialState:{isLoading:!1},extraReducers:(a={},Object(r.a)(a,l.pending,(function(e){e.isLoading=!0})),Object(r.a)(a,l.rejected,(function(e){e.isLoading=!1})),Object(r.a)(a,l.fulfilled,(function(e){e.isLoading=!1})),a)});p.actions;t.a=p},92:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var a,r=n(8),c=n(7),s=n.n(c),i=n(14),o=n(9),u=n(12),l=Object(o.b)("history/get",function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.page,r=t.limit,c=n.rejectWithValue,e.prev=2,e.next=5,u.a.get("/api/history?page=".concat(a,"&limit=").concat(r));case 5:return e.abrupt("return",e.sent.data);case 8:if(e.prev=8,e.t0=e.catch(2),e.t0.response){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",c(e.t0.response.data.message));case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}()),p=Object(o.c)({name:"historySlice",initialState:{isLoading:!1,totalPages:0,totalResults:0,page:0,results:[]},extraReducers:(a={},Object(r.a)(a,l.pending,(function(e){e.isLoading=!0})),Object(r.a)(a,l.rejected,(function(e){e.isLoading=!1})),Object(r.a)(a,l.fulfilled,(function(e,t){e.isLoading=!1;var n=t.payload,a=n.totalPages,r=n.totalResults,c=n.page,s=n.results;e.totalPages=a,e.totalResults=r,e.page=c,e.results=s})),a)});p.actions;t.a=p},93:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var a,r=n(8),c=n(7),s=n.n(c),i=n(14),o=n(9),u=n(12),l=Object(o.b)("stream/get",function(){var e=Object(i.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,u.a.get("/api/media/".concat(t,"/movie/streams"));case 4:return e.abrupt("return",e.sent.data);case 7:if(e.prev=7,e.t0=e.catch(1),e.t0.response){e.next=11;break}throw e.t0;case 11:return e.abrupt("return",a(e.t0.response.data.message));case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),p=Object(o.c)({name:"streamSlice",initialState:{isLoading:!1},extraReducers:(a={},Object(r.a)(a,l.pending,(function(e){e.isLoading=!0})),Object(r.a)(a,l.rejected,(function(e){e.isLoading=!1})),Object(r.a)(a,l.fulfilled,(function(e){e.isLoading=!1})),a)});p.actions;t.a=p},94:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var a=n(8),r=n(7),c=n.n(r),s=n(14),i=n(9),o=n(12),u=Object(i.b)("user/get",function(){var e=Object(s.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,o.a.get("/api/users/".concat(t));case 4:return e.abrupt("return",e.sent.data);case 7:if(e.prev=7,e.t0=e.catch(1),e.t0.response){e.next=11;break}throw e.t0;case 11:return e.abrupt("return",a(e.t0.response.data.message));case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),l=Object(i.b)("user/patch",function(){var e=Object(s.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,o.a.patch("/api/users/".concat(t.id),t);case 4:return e.abrupt("return",e.sent.data);case 7:if(e.prev=7,e.t0=e.catch(1),e.t0.response){e.next=11;break}throw e.t0;case 11:return e.abrupt("return",a(e.t0.response.data.message));case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),p=Object(i.c)({name:"userSlice",initialState:{isLoading:!1,info:{}},extraReducers:Object(a.a)({},u.fulfilled,(function(e,t){e.info=t.payload}))});p.actions;t.a=p}},[[144,5,6]]]);
//# sourceMappingURL=main.2fcdd900.chunk.js.map
(this["webpackJsonpreact-movie"]=this["webpackJsonpreact-movie"]||[]).push([[18],{299:function(e,t,i){"use strict";i.r(t);var a=i(7),s=i.n(a),n=i(14),o=i(69),c=i(186),r=i(194),l=i(0),d=i(8),p=i(147),b=Object(p.a)((function(e){return{root:{minHeight:"100vh",paddingTop:64,paddingBottom:100,background:e.palette.secondary.main},mainvisual:{height:"80vh"},sliderItem:{},section:Object(d.a)({marginTop:e.spacing(10)},e.breakpoints.down("sm"),{marginTop:e.spacing(5)})}})),h=(i(267),i(268),i(55)),j=i(191),g=i(296),m=i(17),u=i(245),f=i.n(u),v=i(23),x=Object(p.a)((function(e){var t;return{root:{position:"relative","& .slick-dots":{position:"absolute",bottom:50,left:"50%",transform:"translateX(-50%)",maxWidth:1280,paddingLeft:e.spacing(3),paddingRight:e.spacing(3),textAlign:"left",zIndex:2,"& > li":{marginRight:e.spacing(3)},"& > li.slick-active $sliderPaging":{opacity:1,background:Object(v.a)("#3e3e3e",.6),border:"2px solid #cecece","&:after":{opacity:1}}}},sliderPaging:{width:40,height:40,borderRadius:"50%",textAlign:"center",opacity:.6,display:"flex",alignItems:"center",justifyContent:"center",position:"relative","&:after":{opacity:0,content:"''",position:"absolute",bottom:-10,left:"50%",transform:"translate(-50%, 100%)",width:1,height:27,background:"#cecece"}},sliderPagingItem:{fontWeight:700,fontFamily:"Archivo Black, sans-serif",lineHeight:0,color:"#fff"},sliderItem:{height:"calc(100vh - 64px)",minHeight:500,width:"100%",display:"block",position:"relative",zIndex:2},sliderImage:{width:"100%",height:"100%","&>img":{width:"100%",height:"100%",objectFit:"cover"},"&:before":{content:"''",position:"absolute",left:0,top:0,width:"100%",height:"100%",background:Object(v.a)("#000",.4),zIndex:1}},sliderInfo:{position:"absolute",width:"100%",top:"50%",transform:"translateY(-50%)",zIndex:2,color:"white"},sliderTitle:(t={fontSize:60,fontWeight:"bold",width:700,maxWidth:"100%",marginBottom:e.spacing(3)},Object(d.a)(t,e.breakpoints.down("sm"),{fontSize:50}),Object(d.a)(t,e.breakpoints.down("xs"),{fontSize:40}),t),sliderDescription:{display:"-webkit-box","-webkit-line-clamp":2,"-webkit-box-orient":"vertical",overflow:"hidden",opacity:.7,marginBottom:e.spacing(5),width:700,maxWidth:"100%"},watchVideo:{display:"flex",cursor:"pointer",alignItems:"center",width:"fit-content","&:hover":{color:e.palette.primary.main}},watchVideoIcon:{marginRight:e.spacing(1)},watchVideoText:{fontWeight:"bold",letterSpacing:1.1,lineHeight:0}}})),O=i(21),w=i(74),k=i(2);var y=function(){var e=x(),t=Object(O.b)(),i=Object(l.useState)([]),a=Object(o.a)(i,2),d=a[0],p=a[1],b=Object(l.useCallback)(function(){var e=Object(n.a)(s.a.mark((function e(i){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(Object(w.b)({page:1,limit:i,sort:"desc(_id)"})).unwrap();case 3:a=e.sent,p(a.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: Mainvisual.jsx ~ line 27 ~ error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[t]);Object(l.useEffect)((function(){b(5)}),[b]);var u={dots:!0,fade:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!1,autoplay:!0,autoplaySpeed:7e3,customPaging:function(t){return Object(k.jsx)("div",{className:e.sliderPaging,children:Object(k.jsx)(j.a,{variant:"body1",className:e.sliderPagingItem,children:"0".concat(t+1).slice(-2)})})}};return Object(k.jsx)(r.a,{className:e.root,children:Object(k.jsx)(f.a,Object(h.a)(Object(h.a)({},u),{},{children:d.map((function(t,i){return Object(k.jsxs)("div",{className:e.sliderItem,children:[Object(k.jsx)("div",{className:e.sliderImage,children:Object(k.jsx)("img",{src:t.backdropUrl,alt:""})}),Object(k.jsx)(r.a,{className:e.sliderInfo,children:Object(k.jsxs)(c.a,{children:[Object(k.jsx)(j.a,{variant:"h4",className:e.sliderTitle,children:t.title}),Object(k.jsx)(j.a,{variant:"body1",className:e.sliderDescription,children:t.overview}),Object(k.jsxs)(m.a,{to:"/detail/".concat(t._id),className:e.watchVideo,children:[Object(k.jsx)(g.a,{className:e.watchVideoIcon,fontSize:"large"}),Object(k.jsx)(j.a,{variant:"body1",className:e.watchVideoText,children:"WATCH VIDEO"})]})]})})]},i)}))}))})},N=i(180),S=i(297),T=i(284),I=i(232),W=i(172),z=Object(W.a)((function(e){return{root:{width:"100%",padding:"15px 16px","&:hover $hoverSection":{opacity:1}},top:{position:"relative",marginBottom:e.spacing(2),paddingTop:"calc(4/3 * 100%)"},views:{position:"absolute",top:e.spacing(1),left:e.spacing(1),background:e.palette.primary.main,minWidth:40,width:"fit-content",padding:e.spacing(.5,.75),borderRadius:5,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"bold",boxShadow:"0px 2px 8px rgba(0,0,0,0.3)",zIndex:10,"& > p":{lineHeight:0,fontSize:11}},viewsIcon:{fontSize:12,marginRight:e.spacing(.25)},image:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",borderRadius:e.shape.borderRadius},hoverSection:{position:"absolute",top:0,left:0,right:0,bottom:0,background:Object(v.a)("#000",.6),pointerEvents:"none",opacity:0,transition:"opacity .4s"},genres:{pointerEvents:"all",position:"absolute",top:e.spacing(5),left:e.spacing(1),right:e.spacing(1),display:"flex",alignItems:"center",flexWrap:"wrap"},genre:{color:e.palette.primary.main,textTransform:"uppercase",fontWeight:"bold",opacity:1,"&:hover":{textDecoration:"underline"},"&:not(:last-child)":{marginRight:e.spacing(.5)}},resolution:{"&>span":{}},bottom:{color:"#fff",opacity:1,"&:hover $title":{textDecoration:"underline"}},title:{marginBottom:e.spacing(1)},releaseDate:{}}}));var A=function(e){var t=e.id,i=e.title,a=e.image,s=e.genres,n=e.resolution,o=e.releaseDate,c=e.views,r=e.classes,l=z();return Object(k.jsxs)("div",{className:"".concat(null===l||void 0===l?void 0:l.root," ").concat(r?r.root:""),children:[Object(k.jsxs)("div",{className:l.top,children:[Object(k.jsxs)("div",{className:l.views,children:[Object(k.jsx)(I.a,{className:l.viewsIcon}),Object(k.jsx)(j.a,{variant:"body1",component:"p",children:c})]}),Object(k.jsx)(m.a,{to:"/detail/".concat(t),children:Object(k.jsx)("img",{src:a||"/images/default-movie.gif",alt:i,className:l.image})}),Object(k.jsxs)("div",{className:l.hoverSection,children:[Object(k.jsx)("div",{className:l.genres,children:s&&s.map((function(e,t){return Object(k.jsxs)(m.a,{to:"/movie?genre=".concat(e),className:l.genre,children:[e," ",t!==s.length-1?", ":""]},t)}))}),n&&Object(k.jsxs)("div",{className:l.resolution,children:[n[0]?n[0]:"720",Object(k.jsx)(j.a,{variant:"caption",component:"span",children:n[1]?n[1]:"HD"})]})]})]}),Object(k.jsxs)(m.a,{to:"/detail/".concat(t),className:l.bottom,children:[Object(k.jsx)(j.a,{variant:"body1",className:l.title,children:i}),o&&Object(k.jsxs)(j.a,{variant:"body2",className:l.releaseDate,children:["Release Date: ",o]})]})]})},C=Object(W.a)((function(e){return{root:{"&  .slick-slider":{overflow:"hidden"},"&  .slick-list":{margin:"0 -16px"}},title:Object(d.a)({color:"#fff",fontWeight:"bold",textTransform:"uppercase",marginBottom:e.spacing(5)},e.breakpoints.down("xs"),{fontSize:25}),subtitle:Object(d.a)({color:"#9CABB6",fontWeight:"bold",letterSpacing:1.2,textTransform:"uppercase",marginBottom:e.spacing(1)},e.breakpoints.down("xs"),{fontSize:11}),slider:{position:"relative"},arrow:{position:"absolute",top:"50%",transform:"translateY(-100%)",zIndex:10,background:Object(v.a)("#000",.5),"&:hover":{background:Object(v.a)(e.palette.primary.main,.5)}},iconArrow:{color:"white",textAlign:"center"},arrowNext:{right:e.spacing(2)},arrowPrev:{left:e.spacing(2)}}}));function D(e){var t=C(),i=e.onClick;return Object(k.jsx)(N.a,{onClick:i,color:"primary",className:"".concat(t.arrow," ").concat(t.arrowNext),children:Object(k.jsx)(S.a,{className:t.iconArrow})})}function E(e){var t=e.onClick,i=C();return Object(k.jsx)(N.a,{onClick:t,color:"primary",className:"".concat(i.arrow," ").concat(i.arrowPrev),children:Object(k.jsx)(T.a,{className:i.iconArrow,style:{transform:"translateX(3px)"}})})}var M=function(e){var t=e.title,i=e.subtitle,a=e.listMovie,s=e.slidesToShow,n=(e.settings,C()),o={dots:!1,infinite:a.length>=s,speed:500,slidesToShow:s,slidesToScroll:s,nextArrow:Object(k.jsx)(D,{}),prevArrow:Object(k.jsx)(E,{}),responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:a.length>=3,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2,infinite:a.length>=2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,infinite:a.length>=1}}]};return Object(k.jsxs)(r.a,{className:n.root,children:[i&&Object(k.jsx)(j.a,{variant:"body2",className:n.subtitle,children:i}),Object(k.jsx)(j.a,{variant:"h4",className:n.title,children:t}),Object(k.jsx)(f.a,Object(h.a)(Object(h.a)({},o),{},{className:n.slider,children:a&&a.map((function(e,t){var i;return Object(k.jsx)(A,{id:e._id,title:e.title,image:e.posterUrl,genres:null===(i=e.genres)||void 0===i?void 0:i.map((function(e){var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase()})),views:e.views},t)}))}))]})};t.default=function(){var e=b(),t=Object(O.b)(),i=Object(l.useState)([]),a=Object(o.a)(i,2),d=a[0],p=a[1],h=Object(l.useState)([]),j=Object(o.a)(h,2),g=j[0],m=j[1],u=Object(l.useState)([]),f=Object(o.a)(u,2),v=f[0],x=f[1],N=Object(l.useCallback)(function(){var e=Object(n.a)(s.a.mark((function e(i,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(Object(w.b)({page:1,limit:20,sort:i})).unwrap();case 3:n=e.sent,"likes"===a?p(n.results):"views"===a?x(n.results):"new"===a&&m(n.results),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,i){return e.apply(this,arguments)}}(),[t]);return Object(l.useEffect)((function(){N("desc(_id)","new"),N("desc(likes)","likes"),N("desc(views)","views")}),[N]),Object(l.useLayoutEffect)((function(){window.scrollTo(0,0)}),[]),Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsx)(y,{}),Object(k.jsxs)(c.a,{children:[g.length>0&&Object(k.jsx)(r.a,{className:e.section,children:Object(k.jsx)(M,{listMovie:g,title:"NEW MOVIE",slidesToShow:5})}),Object(k.jsx)(r.a,{className:e.section,children:Object(k.jsx)(M,{listMovie:d,subtitle:"MOST FAVOURITE",title:"Popular Movies",slidesToShow:6})}),Object(k.jsx)(r.a,{className:e.section,children:Object(k.jsx)(M,{listMovie:v,subtitle:"MOST WATCHED MOVIES",title:"Popular Movies",slidesToShow:4})})]})]})}}}]);
//# sourceMappingURL=18.0d9ff6cf.chunk.js.map
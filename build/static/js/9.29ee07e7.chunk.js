(this["webpackJsonpreact-movie"]=this["webpackJsonpreact-movie"]||[]).push([[9],{203:function(e,r,t){"use strict";t.d(r,"a",(function(){return o}));var n=t(69),a=t(0),i=t(202),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=Object(a.useState)(r),o=Object(n.a)(t,2),c=o[0],s=o[1],u=Object(a.useState)(!1),l=Object(n.a)(u,2),d=l[0],f=l[1],p=!0,m=null;if(e){var g=i.object(e),b=g.validate({value:c}),y=b.error;y&&(m=y.toString(),p=!1)}var h=!p&&d,v=function(e){s(e.target.value)},j=function(){f(!0)},x=function(){f(!1),s("")};return Object(a.useEffect)((function(){s(r)}),[r]),{enteredInput:c,inputIsValid:p,hasError:h,inputChangeHandler:v,inputBlurHandler:j,inputReset:x,setEnteredInput:s,errorMsg:m,isTouched:d}}},204:function(e,r,t){"use strict";var n=t(55),a=t(208),i=t(172),o=t(183),c=t(295),s=(t(0),t(2)),u=["children","size","onClick","isLoading"],l=Object(i.a)((function(e){return{root:{display:"block","&.Mui-disabled":{background:"#ddd",cursort:"not-allowed"}},buttonLoading:{opacity:" 0.7 !important",minHeight:42}}}));r.a=function(e){var r=e.children,t=e.size,i=e.onClick,d=e.isLoading,f=Object(a.a)(e,u),p=l();return Object(s.jsxs)(s.Fragment,{children:[d&&Object(s.jsx)(o.a,{className:"".concat(p.root," ").concat(p.buttonLoading),fullWidth:!0,size:t,variant:"contained",color:"primary",startIcon:Object(s.jsx)(c.a,{size:22,style:{color:"#fff"}})}),!d&&Object(s.jsx)(o.a,Object(n.a)(Object(n.a)({className:p.root,variant:"contained",color:"primary",fullWidth:!0,size:t,onClick:i},f),{},{children:r}))]})}},205:function(e,r,t){"use strict";t.d(r,"c",(function(){return a})),t.d(r,"a",(function(){return i})),t.d(r,"d",(function(){return c})),t.d(r,"b",(function(){return s})),t.d(r,"e",(function(){return l}));var n=t(202),a={value:n.string().min(8).required().messages({"string.base":"Password should be a type of 'text'","string.empty":"Password cannot be an empty field","any.required":"Password is a required field","string.min":"Password must be longer than or equal to 8 characters"})},i={value:n.string().required().messages({"string.empty":"Retype password cannot be an empty field"})},o=t(202),c={value:o.string().min(3).max(32).required().messages({"string.base":"Username should be a type of 'text' or email","string.empty":"Username cannot be an empty field","string.min":"Username should have a minimum length of {#limit}","string.max":"Username should have a maximum length of {#limit}","any.required":"Username is a required field"})},s={value:o.string().max(320).email({tlds:{allow:!1}}).required().messages({"string.empty":"Email cannot be an empty field","string.max":"Email should have a maximum length of {#limit}","any.required":"Email is a required field"})},u=t(202),l=(u.string().required().messages({"string.empty":'"recoveryCode" cannot be an empty field',"any.required":'"recoveryCode" is a required field'}),{value:u.string().required().messages({"string.empty":'"recoveryCode" cannot be an empty field',"any.required":'"recoveryCode" is a required field'})})},217:function(e,r,t){"use strict";var n=t(191),a=(t(0),t(23)),i=t(147),o=Object(i.a)((function(e){return{root:{position:"fixed",top:0,left:0,width:"100%",height:"100vh",zIndex:"99999",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",background:Object(a.a)(e.palette.secondary.main,.8)},box:{width:"3.5em",height:"4em",border:"3px solid transparent",borderTopColor:e.palette.primary.main,borderBottomColor:e.palette.primary.main,marginBottom:e.spacing(2),borderRadius:"50%",animation:"$spinStretch 2s ease infinite"},"@keyframes spinStretch":{"50%":{transform:"rotate(360deg) scale(0.4, 0.33)",borderWidth:8},"100%":{transform:"rotate(720deg) scale(1, 1)",borderWidth:3}}}})),c=t(2);r.a=function(e){var r=e.text,t=o();return Object(c.jsxs)("div",{className:t.root,children:[Object(c.jsx)("div",{className:t.box}),Object(c.jsx)(n.a,{color:"primary",variant:"body2",children:r||"Please waiting..."})]})}},235:function(e,r,t){"use strict";var n=t(210),a=t(212),i=t(229),o=t(214),c=t(236),s=t(237),u=t(238),l=t(239),d=Symbol("encodeFragmentIdentifier");function f(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function p(e,r){return r.encode?r.strict?c(e):encodeURIComponent(e):e}function m(e,r){return r.decode?s(e):e}function g(e){return Array.isArray(e)?e.sort():"object"===typeof e?g(Object.keys(e)).sort((function(e,r){return Number(e)-Number(r)})).map((function(r){return e[r]})):e}function b(e){var r=e.indexOf("#");return-1!==r&&(e=e.slice(0,r)),e}function y(e){var r=(e=b(e)).indexOf("?");return-1===r?"":e.slice(r+1)}function h(e,r){return r.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!r.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function v(e,r){f((r=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},r)).arrayFormatSeparator);var t=function(e){var r;switch(e.arrayFormat){case"index":return function(e,t,n){r=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),r?(void 0===n[e]&&(n[e]={}),n[e][r[1]]=t):n[e]=t};case"bracket":return function(e,t,n){r=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),r?void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=[t]:n[e]=t};case"comma":case"separator":return function(r,t,n){var a="string"===typeof t&&t.includes(e.arrayFormatSeparator),i="string"===typeof t&&!a&&m(t,e).includes(e.arrayFormatSeparator);t=i?m(t,e):t;var o=a||i?t.split(e.arrayFormatSeparator).map((function(r){return m(r,e)})):null===t?t:m(t,e);n[r]=o};case"bracket-separator":return function(r,t,n){var a=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),a){var i=null===t?[]:t.split(e.arrayFormatSeparator).map((function(r){return m(r,e)}));void 0!==n[r]?n[r]=[].concat(n[r],i):n[r]=i}else n[r]=t?m(t,e):t};default:return function(e,r,t){void 0!==t[e]?t[e]=[].concat(t[e],r):t[e]=r}}}(r),n=Object.create(null);if("string"!==typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;var o,c=i(e.split("&"));try{for(c.s();!(o=c.n()).done;){var s=o.value;if(""!==s){var l=u(r.decode?s.replace(/\+/g," "):s,"="),d=a(l,2),p=d[0],b=d[1];b=void 0===b?null:["comma","separator","bracket-separator"].includes(r.arrayFormat)?b:m(b,r),t(m(p,r),b,n)}}}catch(C){c.e(C)}finally{c.f()}for(var y=0,v=Object.keys(n);y<v.length;y++){var j=v[y],x=n[j];if("object"===typeof x&&null!==x)for(var O=0,k=Object.keys(x);O<k.length;O++){var w=k[O];x[w]=h(x[w],r)}else n[j]=h(x,r)}return!1===r.sort?n:(!0===r.sort?Object.keys(n).sort():Object.keys(n).sort(r.sort)).reduce((function(e,r){var t=n[r];return Boolean(t)&&"object"===typeof t&&!Array.isArray(t)?e[r]=g(t):e[r]=t,e}),Object.create(null))}r.extract=y,r.parse=v,r.stringify=function(e,r){if(!e)return"";f((r=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},r)).arrayFormatSeparator);for(var t=function(t){return r.skipNull&&(null===(n=e[t])||void 0===n)||r.skipEmptyString&&""===e[t];var n},n=function(e){switch(e.arrayFormat){case"index":return function(r){return function(t,n){var a=t.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?t:[].concat(o(t),null===n?[[p(r,e),"[",a,"]"].join("")]:[[p(r,e),"[",p(a,e),"]=",p(n,e)].join("")])}};case"bracket":return function(r){return function(t,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?t:[].concat(o(t),null===n?[[p(r,e),"[]"].join("")]:[[p(r,e),"[]=",p(n,e)].join("")])}};case"comma":case"separator":case"bracket-separator":var r="bracket-separator"===e.arrayFormat?"[]=":"=";return function(t){return function(n,a){return void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:(a=null===a?"":a,0===n.length?[[p(t,e),r,p(a,e)].join("")]:[[n,p(a,e)].join(e.arrayFormatSeparator)])}};default:return function(r){return function(t,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?t:[].concat(o(t),null===n?[p(r,e)]:[[p(r,e),"=",p(n,e)].join("")])}}}}(r),a={},i=0,c=Object.keys(e);i<c.length;i++){var s=c[i];t(s)||(a[s]=e[s])}var u=Object.keys(a);return!1!==r.sort&&u.sort(r.sort),u.map((function(t){var a=e[t];return void 0===a?"":null===a?p(t,r):Array.isArray(a)?0===a.length&&"bracket-separator"===r.arrayFormat?p(t,r)+"[]":a.reduce(n(t),[]).join("&"):p(t,r)+"="+p(a,r)})).filter((function(e){return e.length>0})).join("&")},r.parseUrl=function(e,r){r=Object.assign({decode:!0},r);var t=u(e,"#"),n=a(t,2),i=n[0],o=n[1];return Object.assign({url:i.split("?")[0]||"",query:v(y(e),r)},r&&r.parseFragmentIdentifier&&o?{fragmentIdentifier:m(o,r)}:{})},r.stringifyUrl=function(e,t){t=Object.assign(n({encode:!0,strict:!0},d,!0),t);var a=b(e.url).split("?")[0]||"",i=r.extract(e.url),o=r.parse(i,{sort:!1}),c=Object.assign(o,e.query),s=r.stringify(c,t);s&&(s="?".concat(s));var u=function(e){var r="",t=e.indexOf("#");return-1!==t&&(r=e.slice(t)),r}(e.url);return e.fragmentIdentifier&&(u="#".concat(t[d]?p(e.fragmentIdentifier,t):e.fragmentIdentifier)),"".concat(a).concat(s).concat(u)},r.pick=function(e,t,a){a=Object.assign(n({parseFragmentIdentifier:!0},d,!1),a);var i=r.parseUrl(e,a),o=i.url,c=i.query,s=i.fragmentIdentifier;return r.stringifyUrl({url:o,query:l(c,t),fragmentIdentifier:s},a)},r.exclude=function(e,t,n){var a=Array.isArray(t)?function(e){return!t.includes(e)}:function(e,r){return!t(e,r)};return r.pick(e,a,n)}},236:function(e,r,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},237:function(e,r,t){"use strict";var n="%[a-f0-9]{2}",a=new RegExp(n,"gi"),i=new RegExp("("+n+")+","gi");function o(e,r){try{return decodeURIComponent(e.join(""))}catch(a){}if(1===e.length)return e;r=r||1;var t=e.slice(0,r),n=e.slice(r);return Array.prototype.concat.call([],o(t),o(n))}function c(e){try{return decodeURIComponent(e)}catch(n){for(var r=e.match(a),t=1;t<r.length;t++)r=(e=o(r,t).join("")).match(a);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(r){return function(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(r){var a=c(n[0]);a!==n[0]&&(t[n[0]]=a)}n=i.exec(e)}t["%C2"]="\ufffd";for(var o=Object.keys(t),s=0;s<o.length;s++){var u=o[s];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},238:function(e,r,t){"use strict";e.exports=function(e,r){if("string"!==typeof e||"string"!==typeof r)throw new TypeError("Expected the arguments to be of type `string`");if(""===r)return[e];var t=e.indexOf(r);return-1===t?[e]:[e.slice(0,t),e.slice(t+r.length)]}},239:function(e,r,t){"use strict";e.exports=function(e,r){for(var t={},n=Object.keys(e),a=Array.isArray(r),i=0;i<n.length;i++){var o=n[i],c=e[o];(a?-1!==r.indexOf(o):r(o,c,e))&&(t[o]=c)}return t}},303:function(e,r,t){"use strict";t.r(r);var n=t(7),a=t.n(n),i=t(14),o=t(0),c=t(191),s=t(197),u=t(198),l=t(175),d=t(176),f=t(194),p=t(180),m=t(71),g=t(8),b=t(172),y=t(23),h=Object(b.a)((function(e){return{root:{minHeight:"100vh",background:"url('/images/background.jpg') no-repeat center/cover",backgroundAttachment:"fixed",paddingTop:"20vh",paddingBottom:"20vh",position:"relative",zIndex:1,"&::before":{content:"''",position:"absolute",left:0,top:0,width:"100%",height:"100%",background:Object(y.a)("#000",.7),zIndex:-1}},form:Object(g.a)({width:"27rem",maxWidth:"calc(100% - 20px)",margin:"0 auto 0",padding:e.spacing(5,7),borderRadius:10,background:Object(y.a)("#000",.7)},e.breakpoints.down("xs"),{padding:e.spacing(3,2)}),title:{marginBottom:e.spacing(3),textAlign:"center",color:"#fff"},formControl:{marginBottom:e.spacing(2)},textField:{background:"#ddd",borderRadius:e.shape.borderRadius,"& .MuiFilledInput-underline:after":{display:"none"}},inputLabel:{fontSize:13,"&.Mui-focused":{color:"#000"},"&.Mui-error":{color:"red"}},textHelper:{marginTop:e.spacing(1),color:"#fff","& > a":{color:e.palette.primary.main,textDecoration:"underline"},"&:not(:last-child)":{marginRight:e.spacing(2)}},errorMessage:{fontSize:11,color:"red",fontWeight:"normal"}}})),v=t(203),j=t(205),x=t(204),O=t(31),k=Object(O.a)(o.createElement("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Sync"),w=t(21),C=t(36),F=t(13),I=t(235),S=t.n(I),E=t(217),N=t(2);r.default=function(){var e=h(),r=Object(w.c)((function(e){return e.auth.isLoading})),t=Object(w.c)((function(e){return e.auth.user})),n=Object(w.b)(),g=Object(F.h)(),b=S.a.parse(g.search),y=b.id,O=b.code,I=Object(F.g)(),q=Object(v.a)(j.e,O||""),R=q.enteredInput,A=q.inputBlurHandler,U=q.inputChangeHandler,L=q.inputReset,z=q.inputIsValid,B=q.hasError,M=q.errorMsg,T=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(Object(C.h)()).unwrap();case 3:m.b.success("A confirmation email has been sent"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),m.b.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),W=z,H=Object(o.useCallback)(function(){var e=Object(i.a)(a.a.mark((function e(r,t){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r,t),e.prev=1,e.next=4,n(Object(C.b)({id:r,activationCode:t})).unwrap();case 4:m.b.success("Verify successfully!!!"),I.push((null===(i=g.state)||void 0===i?void 0:i.from)||"/"),L(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),m.b.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(r,t){return e.apply(this,arguments)}}(),[n,I,L,g.state]),$=function(){var e=Object(i.a)(a.a.mark((function e(r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),W){e.next=3;break}return e.abrupt("return");case 3:H(t._id,R);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){y&&O&&H(y,O)}),[]),Object(N.jsxs)("div",{className:e.root,children:[r&&Object(N.jsx)(E.a,{text:"Please wait while we verifying your email..."}),Object(N.jsx)("div",{children:Object(N.jsxs)("form",{className:e.form,onSubmit:$,children:[Object(N.jsx)(c.a,{variant:"h6",className:e.title,children:"Account activation"}),Object(N.jsxs)("div",{className:e.formControl,children:[Object(N.jsxs)(s.a,{error:B,variant:"filled",fullWidth:!0,className:e.textField,children:[Object(N.jsx)(u.a,{htmlFor:"verifyCode",className:e.inputLabel,children:"Activation code"}),Object(N.jsx)(l.a,{value:R,onBlur:A,onChange:U,id:"verifyCode",type:"text"})]}),B&&Object(N.jsx)(d.a,{className:e.errorMessage,children:M})||0===R.length&&Object(N.jsx)(d.a,{style:{color:"#fff",paddingLeft:8},children:"The CODE in your email"})]}),Object(N.jsxs)(f.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",children:[Object(N.jsx)(f.a,{flex:1,marginRight:1,children:Object(N.jsx)(x.a,{size:"large",isLoading:r,type:"submit",disabled:!W,children:"Active"})}),Object(N.jsx)(p.a,{color:"primary",onClick:T,children:Object(N.jsx)(k,{})})]})]})})]})}}}]);
//# sourceMappingURL=9.29ee07e7.chunk.js.map